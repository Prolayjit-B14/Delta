<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Submit IoT Project</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-900 text-white font-sans">
    
    <!-- Navbar -->
    <nav class="bg-gray-800 p-5 shadow-2xl flex justify-between items-center fixed top-0 w-full z-50">
        <h1 class="text-3xl font-extrabold tracking-wide">Submit Your Project</h1>
        <div>
            <a href="index.html" class="mx-4 hover:text-yellow-300 transition-all duration-300">Home</a>
            <a href="projects.html" class="mx-4 hover:text-yellow-300 transition-all duration-300">Projects</a>
            <a href="login.html" class="mx-4 hover:text-yellow-300 transition-all duration-300">Login</a>
        </div>
    </nav>
    
    <!-- Submission Form -->
    <section class="max-w-4xl mx-auto py-20 mt-16">
        <h2 class="text-5xl font-bold text-center mb-12 animate-fade-in">Submit Your IoT Project</h2>
        <form class="bg-gray-800 p-10 rounded-2xl shadow-2xl animate-slide-up" id="project-form">
            <!-- Project Title -->
            <div class="mb-6">
                <label class="block text-lg font-semibold mb-2">Project Title</label>
                <input type="text" id="project-title" class="w-full p-3 rounded-lg bg-gray-700 border border-gray-600 text-white focus:ring-2 focus:ring-yellow-300" placeholder="Enter project title" required>
            </div>
            
            <!-- Description -->
            <div class="mb-6">
                <label class="block text-lg font-semibold mb-2">Description</label>
                <textarea id="description" class="w-full p-3 rounded-lg bg-gray-700 border border-gray-600 text-white focus:ring-2 focus:ring-yellow-300" placeholder="Describe your project" rows="4" required></textarea>
            </div>
            
            <!-- Video Upload -->
            <div class="mb-6">
                <label class="block text-lg font-semibold mb-2">Project Video</label>
                <input type="file" id="video-upload" class="w-full p-3 rounded-lg bg-gray-700 border border-gray-600 text-white focus:ring-2 focus:ring-yellow-300" accept="video/*" required>
            </div>

            <!-- Circuit Diagram Upload -->
            <div class="mb-6">
                <label class="block text-lg font-semibold mb-2">Circuit Diagram</label>
                <input type="file" id="circuit-upload" class="w-full p-3 rounded-lg bg-gray-700 border border-gray-600 text-white focus:ring-2 focus:ring-yellow-300" accept="image/*" required>
            </div>

            <!-- Components List -->
            <div class="mb-6">
                <label class="block text-lg font-semibold mb-2">Components Used</label>
                <textarea id="components" class="w-full p-3 rounded-lg bg-gray-700 border border-gray-600 text-white focus:ring-2 focus:ring-yellow-300" placeholder="List the components used in your project" rows="4" required></textarea>
            </div>

            <!-- Image Upload -->
            <div class="mb-6">
                <label class="block text-lg font-semibold mb-2">Project Images</label>
                <div class="border-2 border-dashed border-gray-500 rounded-lg p-6 text-center bg-gray-700 hover:bg-gray-600 cursor-pointer" id="drop-area">
                    <p class="text-gray-300">Drag & Drop images here or click to upload</p>
                    <input type="file" class="hidden" id="image-input" multiple accept="image/*">
                </div>
                <p class="mt-2 text-sm text-yellow-300" id="image-names"></p>
            </div>

            <!-- Code Block -->
            <div class="mb-6">
                <label class="block text-lg font-semibold mb-2">Code Block</label>
                <textarea id="code-block" class="w-full p-3 rounded-lg bg-gray-700 border border-gray-600 text-white focus:ring-2 focus:ring-yellow-300" placeholder="Enter your code here" rows="6" required></textarea>
                <p class="mt-2 text-sm text-yellow-300">Paste your code here. Use proper indentation.</p>
            </div>

            <!-- Save Option -->
            <div class="mb-6">
                <label class="block text-lg font-semibold mb-2">Save Option</label>
                <select id="save-option" class="w-full p-3 rounded-lg bg-gray-700 border border-gray-600 text-white focus:ring-2 focus:ring-yellow-300">
                    <option value="local">Save Locally</option>
                    <option value="server">Save to Server</option>
                </select>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="w-full bg-yellow-400 text-gray-900 px-5 py-3 rounded-lg text-lg font-bold shadow-xl hover:bg-yellow-500 transition-all duration-300">Submit Project</button>
        </form>
        
        <!-- Confirmation Message -->
        <div id="confirmation-message" class="mt-8 text-center text-lg text-yellow-300 hidden">
            <p>Project submitted successfully!</p>
        </div>
    </section>
    
    <!-- Footer -->
    <footer class="bg-gray-800 text-white text-center p-6 mt-16 shadow-inner">
        <p class="opacity-75 text-lg">&copy; 2025 IoT Showcase. All Rights Reserved.</p>
    </footer>
    
    <script>
        gsap.from("h2", { duration: 1, opacity: 0, y: -50, ease: "power3.out" });
        gsap.from("form", { duration: 1, opacity: 0, y: 50, ease: "power3.out" });
        gsap.from("nav", { duration: 1, opacity: 0, y: -50, ease: "power3.out" });
        gsap.from("footer", { duration: 1, opacity: 0, y: 50, ease: "power3.out" });

        // Image Upload Handling
        const dropArea = document.getElementById("drop-area");
        const imageInput = document.getElementById("image-input");
        const imageNames = document.getElementById("image-names");

        dropArea.addEventListener("click", () => imageInput.click());
        imageInput.addEventListener("change", (event) => {
            imageNames.textContent = Array.from(event.target.files).map(file => file.name).join(", ");
        });
        dropArea.addEventListener("dragover", (event) => {
            event.preventDefault();
            dropArea.classList.add("bg-gray-600");
        });
        dropArea.addEventListener("dragleave", () => dropArea.classList.remove("bg-gray-600"));
        dropArea.addEventListener("drop", (event) => {
            event.preventDefault();
            imageInput.files = event.dataTransfer.files;
            imageNames.textContent = Array.from(imageInput.files).map(file => file.name).join(", ");
        });

        // Form Submission Handling
        const form = document.getElementById("project-form");
        const confirmationMessage = document.getElementById("confirmation-message");

        form.addEventListener("submit", (event) => {
            event.preventDefault();
            
            // Validate required fields
            const requiredFields = [
                "project-title", "description", "video-upload", "circuit-upload",
                "components", "image-input", "code-block"
            ];
            
            let valid = true;
            requiredFields.forEach((id) => {
                const input = document.getElementById(id);
                if (!input.value) {
                    input.classList.add("border-red-500");
                    valid = false;
                } else {
                    input.classList.remove("border-red-500");
                }
            });

            if (!valid) {
                return;
            }

            // Save data (example of saving locally or to a server)
            const saveOption = document.getElementById("save-option").value;
            const projectData = {
                title: document.getElementById("project-title").value,
                description: document.getElementById("description").value,
                video: document.getElementById("video-upload").files[0].name,
                circuit: document.getElementById("circuit-upload").files[0].name,
                components: document.getElementById("components").value,
                images: Array.from(document.getElementById("image-input").files).map(file => file.name),
                code: document.getElementById("code-block").value
            };

            if (saveOption === "local") {
                localStorage.setItem("projectData", JSON.stringify(projectData));
                console.log("Project saved locally:", projectData);
            } else {
                console.log("Sending project data to server:", projectData);
                // Send to server (e.g., via fetch or XMLHttpRequest)
            }

            // Show confirmation message
            confirmationMessage.classList.remove("hidden");
            form.reset();
        });
    </script>
</body>
</html>

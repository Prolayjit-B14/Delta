<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Showcase Your IoT Project</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>

<body class="bg-white text-gray-900 font-sans">
    
    <!-- Navbar -->
    <nav class="bg-gray-200 text-gray-900 p-5 shadow-lg flex justify-between items-center fixed top-0 w-full z-50">
        <h1 class="text-3xl font-extrabold tracking-wide">Delta</h1>
        <div>
            <a href="index.html" class="mx-4 font-bold hover:text-blue-600 transition-all duration-300">Home</a>
            <a href="projects.html" class="mx-4 font-bold hover:text-blue-600 transition-all duration-300">Projects</a>
            <a href="components.html" class="mx-4 font-bold hover:text-blue-600 transition-all duration-300">Components</a>
        </div>
    </nav>

    <!-- Sidebar Toggle Button -->
    <button id="toggleSidebar" class="fixed top-20 left-4 z-50 bg-blue-500 text-white px-4 py-2 rounded-lg font-bold shadow-md hover:bg-blue-600 transition-all">
        ‚ò∞ Menu
    </button>

    <!-- Sidebar Navigation -->
    <aside id="sidebar" class="fixed top-16 left-0 w-64 h-full bg-gray-200 text-gray-900 transform -translate-x-64 transition-transform duration-300 shadow-xl">
        <h2 class="text-xl font-bold text-center mt-16 mb-4 text-blue-600">Contents</h2>
        <ul class="space-y-4 text-lg pl-6">
            <li><a href="#concept" class="block hover:text-blue-500 transition-all">üîπ Concept</a></li>
            <li><a href="#components" class="block hover:text-blue-500 transition-all">üîπ Components</a></li>
            <li><a href="#connections" class="block hover:text-blue-500 transition-all">üîπ Connections</a></li>
            <li><a href="#circuit-diagram" class="block hover:text-blue-500 transition-all">üîπ Circuit Diagram</a></li>
            <li><a href="#prototype-overview" class="block hover:text-blue-500 transition-all">üîπ Prototype</a></li>
            <li><a href="#simulation-model" class="block hover:text-blue-500 transition-all">üîπ Simulation</a></li>
            <li><a href="#author" class="block hover:text-blue-500 transition-all">üîπ Author</a></li>
        </ul>
    </aside>

    <!-- Main Content -->
    <section class="max-w-5xl mx-auto pt-24 pb-12">
        <h2 class="text-5xl font-bold text-center mb-4 text-blue-600">Coordinated Traffic System</h2>
        <p class="text-center text-lg text-gray-700 mb-6">By <strong><a href="#author" class="text-blue-500 hover:underline">Ankan Bhowmik</a></strong></p>
        <p class="text-center text-md text-gray-600 mb-6">üìÖ Post Date: January 19, 2025</p>
        
    <!-- Sections -->
    <div id="concept" class="mt-10 border-b-2 border-gray-400 pb-6">
        <h3 class="text-3xl font-semibold text-center text-gray-800 mb-4">Concept</h3>
        <p class="text-gray-700 text-lg leading-relaxed text-justify">
            The Coordinated Traffic Light System aims to synchronize traffic lights at successive intersections to improve traffic flow and reduce congestion. By ensuring that traffic lights show red or green simultaneously, vehicles can move more efficiently through multiple intersections without unnecessary stops. This system is particularly useful in urban areas with high traffic density.
        </p>
    </div> 

    <div id="components" class="mt-10 border-b-2 border-gray-400 pb-6">
    <h3 class="text-3xl font-semibold text-center text-gray-800 mb-4">
        <a href="components.html" class="hover:underline text-gray-800">Components Required</a>
    </h3>

    <ul class="list-disc text-gray-700 text-lg mx-auto max-w-lg text-left">
        <li>DHT11 Temperature & Humidity Sensor</li>
        <li>ESP8266 Wi-Fi Module</li>
        <li>Arduino Uno or NodeMCU</li>
        <li>Resistors (1kŒ©, 10kŒ©)</li>
        <li>LEDs (Red, Green)</li>
        <li>Jumper Wires & Breadboard</li>
    </ul>
</div>


    <div id="connections" class="mt-10 border-b-2 border-gray-400 pb-6">
        <h3 class="text-3xl font-semibold text-center text-gray-800 mb-4">Connections</h3>
        <ul class="list-disc text-gray-700 text-lg mx-auto max-w-lg">
        <li>Connect the anode (long leg) of the Red LEDs to digital pin 9 on the Arduino with a Resistor (1kŒ©).</li>
        <li>Connect the other end of the resistor to the ground (GND) pin on the Arduino.</li>
        <li>Connect the anode (long leg) of the Green LEDs to digital pin 8 on the Arduino with a Resistor (1kŒ©).</li>
        <li>Connect the other end of the resistor to the ground (GND) pin on the Arduino.</li>
        <li>Connect the GND pin on the Arduino to the negative rail on the breadboard.</li>
        <li>Insert the Code for the system to function.</li>
    </div>

    <div id="circuit-diagram" class="mt-10 border-b-2 border-gray-400 pb-6">
        <h3 class="text-3xl font-semibold text-center text-gray-800 mb-4">Circuit Diagram</h3>
        <img src="assets/trafficcir.png" alt="Circuit Diagram" class="mx-auto rounded-lg shadow-lg">
    </div>

    <div id="prototype-overview" class="mt-10 border-b-2 border-gray-400 pb-6">
        <h3 class="text-3xl font-semibold text-center text-gray-800 mb-4">Prototype Overview</h3>
        <img src="assets/trafficmodel.png" alt="Prototype Overview" class="mx-auto rounded-lg shadow-lg">
    </div>

    <!-- Arduino Code Section -->
    <div id="arduino-code" class="mt-10 border-b-2 border-gray-400 pb-6 text-center">
        <h3 class="text-3xl font-semibold text-gray-800 mb-4">Arduino Code</h3>
        <div class="inline-block bg-gray-700 p-6 rounded-lg shadow-lg text-left">
            <pre class="rounded-lg overflow-auto p-4"><code class="language-cpp">
// C++ code

void setup()
{
    pinMode(9, OUTPUT);
    pinMode(8, OUTPUT);
}

void loop()
{
    digitalWrite(9, HIGH);
    digitalWrite(8, LOW);
    delay(30000); // Wait for 30000 millisecond(s)
    digitalWrite(8, HIGH);
    digitalWrite(9, LOW);
    delay(30000); // Wait for 30000 millisecond(s)

//adjust delay according to your need

}
            </code></pre>
        </div>
    </div>

    <div id="simulation-model" class="mt-10 border-b-2 border-gray-400 pb-6">
        <h3 class="text-3xl font-semibold text-center text-gray-800 mb-4">Simulation Model</h3>
        <iframe width="560" height="315" src="youtube" frameborder="0" allowfullscreen class="mx-auto rounded-lg shadow-xl"></iframe>
    </div>

<body class="bg-white text-gray-900 font-sans p-6">
    <div class="max-w-2xl mx-auto">
        <h2 class="text-xl font-bold mb-4">Leave a Comment</h2>
        <div class="bg-gray-100 p-4 rounded-lg shadow flex items-center space-x-2">
                <input type="file" id="profilePic" accept="image/*" class="w-12 h-12 border rounded-full">
                <input type="text" id="username" class="p-2 border rounded" placeholder="Your Name" required>
                <textarea id="commentInput" class="p-2 border rounded flex-1" placeholder="Write a comment..."></textarea>
                <button onclick="addComment()" class="bg-blue-500 text-white px-4 py-2 rounded">Post</button>
            </div>
        <div id="commentList" class="mt-6 space-y-4"></div>
    </div>

    <!-- Author Section -->
    <div id="author" class="mt-12 text-center">
        <h3 class="text-3xl font-semibold text-gray-800 mb-4">About the Author</h3>
        <p class="text-lg text-gray-600">Ankan Bhowmik is an IoT enthusiast with a passion for building innovative projects.</p>
    </div>
</section>

<!-- Back to Projects Button -->
<div class="text-center mt-12">
    <a href="./projects.html" class="bg-blue-600 text-white px-6 py-3 rounded-full text-lg font-bold shadow-lg hover:bg-blue-700 transition-all duration-300">
        ‚Üê Back to Projects
    </a>
</div>
</section>

    <!-- Footer -->
    <footer class="bg-gray-200 text-gray-900 text-center p-6 mt-16 shadow-inner">
        <p class="opacity-75 text-lg">&copy; 2025 IoT Showcase. All Rights Reserved.</p>
    </footer>

    <!-- JavaScript -->
    <script>
        // Sidebar Toggle
        const toggleSidebar = document.getElementById("toggleSidebar");
        const sidebar = document.getElementById("sidebar");

        toggleSidebar.addEventListener("click", () => {
            if (sidebar.classList.contains("-translate-x-64")) {
                gsap.to(sidebar, { x: 0, duration: 0.3 });
                sidebar.classList.remove("-translate-x-64");
            } else {
                gsap.to(sidebar, { x: -256, duration: 0.3, onComplete: () => sidebar.classList.add("-translate-x-64") });
            }
        });

        // Smooth Scrolling with Navbar Offset
        document.querySelectorAll('aside a').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault(); // Prevent default jump
                
                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);

                if (targetElement) {
                    const navbarHeight = document.querySelector("nav").offsetHeight; // Get navbar height
                    const elementPosition = targetElement.getBoundingClientRect().top + window.scrollY;
                    const offsetPosition = elementPosition - navbarHeight - 20; // Adjust for smooth viewing

                    window.scrollTo({
                        top: offsetPosition,
                        behavior: 'smooth'
                    });
                }
            });
        });

        document.addEventListener("DOMContentLoaded", () => {
            loadComments();
            addFixedComments();
        });

        function addComment() {
            let username = document.getElementById("username").value.trim() || "Anonymous";
            let commentInput = document.getElementById("commentInput");
            let commentText = commentInput.value.trim();
            let profilePic = document.getElementById("profilePic").files[0];
            if (commentText === "") return;

            let reader = new FileReader();
            reader.onload = function(event) {
                let profilePicUrl = profilePic ? event.target.result : "default-profile.png";
                let timestamp = new Date().toLocaleString();
                let commentData = { username, commentText, profilePicUrl, timestamp, replies: [] };
                saveComment(commentData);
                displayComment(commentData);
                commentInput.value = "";
            };
            if (profilePic) {
                reader.readAsDataURL(profilePic);
            } else {
                reader.onload();
            }
        }

        function saveComment(commentData) {
            let comments = JSON.parse(localStorage.getItem("comments")) || [];
            comments.push(commentData);
            localStorage.setItem("comments", JSON.stringify(comments));
        }

        function loadComments() {
            let comments = JSON.parse(localStorage.getItem("comments")) || [];
            comments.forEach(displayComment);
        }

        function addFixedComments() {
            let fixedComments = [
                { username: "Alice", commentText: "Great project! Looking forward to updates.", profilePicUrl: "default-profile.png", timestamp: new Date().toLocaleString(), replies: [] },
                { username: "Bob", commentText: "Amazing work! Keep it up!", profilePicUrl: "default-profile.png", timestamp: new Date().toLocaleString(), replies: [
                    { username: "Charlie", commentText: "I agree! This is inspiring!", profilePicUrl: "default-profile.png", timestamp: new Date().toLocaleString() }
                ] }
            ];
            fixedComments.forEach(displayComment);
        }

        function displayComment(commentData) {
            let commentList = document.getElementById("commentList");
            let commentDiv = document.createElement("div");
            commentDiv.classList.add("bg-gray-200", "p-4", "rounded-lg", "shadow");
            commentDiv.innerHTML = `
                <div class="flex items-center mb-2">
                    <img src="${commentData.profilePicUrl}" class="w-10 h-10 rounded-full mr-2">
                    <div>
                        <span class="font-bold">${commentData.username}</span>
                        <span class="text-sm text-gray-500">${commentData.timestamp}</span>
                    </div>
                </div>
                <p class="mb-2" contenteditable="false">${commentData.commentText}</p>
                <div class="flex space-x-2">
                    <button onclick="likeComment(this)" class="text-red-500">‚ù§Ô∏è (<span>0</span>)</button>
                    <button onclick="editComment(this)" class="bg-green-500 text-white px-2 py-1 rounded">Edit</button>
                    <button onclick="deleteComment(this)" class="bg-red-500 text-white px-2 py-1 rounded">Delete</button>
                    <button onclick="replyComment(this)" class="bg-yellow-500 text-white px-2 py-1 rounded">Reply</button>
                </div>
                <div class="ml-6 mt-2 reply-box"></div>
            `;
            commentList.appendChild(commentDiv);
        }

        function likeComment(button) {
            let likeCount = button.querySelector("span");
            likeCount.textContent = parseInt(likeCount.textContent) + 1;
        }

        function editComment(button) {
            let commentText = button.parentElement.previousElementSibling;
            if (commentText.isContentEditable) {
                commentText.contentEditable = false;
                button.textContent = "Edit";
            } else {
                commentText.contentEditable = true;
                commentText.focus();
                button.textContent = "Save";
            }
        }

        function deleteComment(button) {
            if (confirm("Are you sure you want to delete this comment?")) {
                button.parentElement.parentElement.remove();
            }
        }

        function replyComment(button) {
            let replyBox = button.parentElement.nextElementSibling;
            let replyInput = document.createElement("textarea");
            let replyButton = document.createElement("button");
            replyButton.textContent = "Post Reply";
            replyButton.classList.add("bg-yellow-500", "text-white", "px-2", "py-1", "rounded", "mt-2");
            replyButton.onclick = function() {
                let replyText = replyInput.value.trim();
                if (replyText === "") return;
                let replyDiv = document.createElement("div");
                replyDiv.classList.add("bg-gray-300", "p-2", "rounded-lg", "mt-2", "flex", "justify-between");
                replyDiv.innerHTML = `<p>${replyText}</p> <button onclick="this.parentElement.remove()" class="bg-red-500 text-white px-2 py-1 rounded">Delete</button>`;
                replyBox.appendChild(replyDiv);
                replyInput.remove();
                replyButton.remove();
            };
            replyBox.appendChild(replyInput);
            replyBox.appendChild(replyButton);
        }
    </script>
</body>
</html>
